<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1C1C1E">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Time Tracker</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Time Tracker</h1>
            <button id="add-activity-btn" class="add-button-header" aria-label="Добавить активность">
                <span class="plus-icon">+</span>
            </button>
        </header>

        <div id="activities-list" class="activities-list">
            <!-- Activities will be dynamically inserted here -->
        </div>

        <div id="history-section" class="history-section">
            <h2 class="history-title">История</h2>
            <div id="history-list" class="history-list">
                <!-- History items will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <!-- Modal for creating new activity -->
    <div id="create-modal" class="modal">
        <div class="modal-content">
            <h2>Новая активность</h2>
            <form id="create-form">
                <div class="form-group">
                    <label for="activity-name">Название</label>
                    <input type="text" id="activity-name" placeholder="Введите название" required>
                </div>
                <div class="form-group">
                    <label for="target-hours">Целевые часы</label>
                    <input type="number" id="target-hours" placeholder="0" min="0" step="0.1" required>
                </div>
                <div class="form-group">
                    <label for="initial-time">Начальное время (опционально)</label>
                    <input type="text" id="initial-time" placeholder="1:30 или 1.5 или 1,5" pattern="[0-9]+[:.,]?[0-9]*">
                    <small class="form-hint">Можно указать через двоеточие, точку или запятую</small>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-btn">Отмена</button>
                    <button type="submit" class="btn btn-primary">Создать</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for adding time -->
    <div id="time-modal" class="modal">
        <div class="modal-content">
            <h2 id="time-modal-title">Добавить время</h2>
            <form id="time-form">
                <div class="form-group">
                    <label for="time-input">Время</label>
                    <input type="text" id="time-input" placeholder="1:30 или 1.5 или 1,5" inputmode="numeric" pattern="[0-9]+[:.,]?[0-9]*" required>
                    <small class="form-hint">Можно указать через двоеточие, точку или запятую</small>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-time-btn">Отмена</button>
                    <button type="submit" class="btn btn-primary">Добавить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete confirmation modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <h2>Удалить активность?</h2>
            <p id="delete-activity-name" class="delete-confirm-text"></p>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancel-delete-btn">Отмена</button>
                <button type="button" class="btn btn-danger" id="confirm-delete-btn">Удалить</button>
            </div>
        </div>
    </div>

    <!-- Delete history item confirmation modal -->
    <div id="delete-history-modal" class="modal">
        <div class="modal-content">
            <h2>Удалить запись из истории?</h2>
            <p id="delete-history-text" class="delete-confirm-text"></p>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancel-delete-history-btn">Отмена</button>
                <button type="button" class="btn btn-danger" id="confirm-delete-history-btn">Удалить</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

